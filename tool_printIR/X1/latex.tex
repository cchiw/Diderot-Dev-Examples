\documentclass{article}
\usepackage[margin=.8in]{geometry}
\usepackage{amssymb}


\begin{document}

\section{PVO computation}
image(3)[3] u = image("../data/inputfile0.nrrd");
image(3)[3] v = image("../data/inputfile1.nrrd");\\
kernel\#4 k= c4hexic;\\
field\#4(3)[3]U =k$\circledast$ u;  field\#4(3)[3]V =k $\circledast$ v;\\
field\#4(3)[] G= $(\frac{V}{|V|})\bullet(\frac{U}{|U|})$\\


\subsection{best version}
\textbf{Probe}
Diderot-Dev --exec --readEinLatex --readEin1 PVO.diderot\newline $\rightarrow_{flat}\frac{(v \bullet u)}{(|v|*|u|)}$\\
\\
\textbf{Gradient}
Diderot-Dev --exec --readEinLatex --readEin3 PVO.diderot
\\\newline $\rightarrow_{refactor}((\frac{(u \bullet  \nabla  \otimes v)}{(|v|*|u|)}+\frac{(v \bullet  \nabla  \otimes u)}{(|u|*|v|)})-(\frac{((u \bullet v)*(v \bullet  \nabla  \otimes v))}{(|v|*|u|*(v \bullet v))}+\frac{((u \bullet v)*(u \bullet  \nabla  \otimes u))}{(|u|*|v|*(u \bullet u))}))$\\
\\
\textbf{Hessian}
Diderot-Dev --exec --readEinLatex  --readEin2 PVO.diderot\\
\newline $\rightarrow_{match}(\frac{(2*|u|*(u \bullet v)*((u \bullet  \nabla  \otimes u) \otimes (u \bullet  \nabla  \otimes u)))}{(|v|*(u \bullet u)*((u \bullet u))^2)}+\frac{((u \bullet v)*((u \bullet  \nabla  \otimes u) \otimes (u \bullet  \nabla  \otimes u)))}{(|u|*|v|*((u \bullet u))^2)}+\frac{-((|u|*(u \bullet v)*(u \bullet  \nabla  \otimes  \nabla  \otimes u)))}{(|v|*(u \bullet u)*(u \bullet u))}+\frac{-((|u|*(u \bullet v)*(( \nabla  \otimes u)^T \bullet  \nabla  \otimes u)))}{(|v|*(u \bullet u)*(u \bullet u))}+\frac{-((((u \bullet  \nabla  \otimes u) \otimes (v \bullet  \nabla  \otimes u))))}{(|u|*|v|*(u \bullet u))}+\frac{(v \bullet  \nabla  \otimes  \nabla  \otimes u)}{(|u|*|v|)}+\frac{-((((v \bullet  \nabla  \otimes u) \otimes (u \bullet  \nabla  \otimes u))))}{(|u|*|v|*(u \bullet u))}+\frac{((u \bullet v)*((u \bullet  \nabla  \otimes u) \otimes (v \bullet  \nabla  \otimes v)))}{(|u|*|v|*(u \bullet u)*(v \bullet v))}+\frac{-((((v \bullet  \nabla  \otimes u) \otimes (v \bullet  \nabla  \otimes v))))}{(|u|*|v|*(v \bullet v))}+\frac{(2*(u \bullet v)*((v \bullet  \nabla  \otimes v) \otimes (v \bullet  \nabla  \otimes v)))}{(|u|*|v|*((v \bullet v))^2)}+\frac{((u \bullet v)*((v \bullet  \nabla  \otimes v) \otimes (u \bullet  \nabla  \otimes u)))}{((u \bullet u)*|v|*|u|*(v \bullet v))}+\frac{((u \bullet v)*((v \bullet  \nabla  \otimes v) \otimes (v \bullet  \nabla  \otimes v)))}{(|u|*|v|*((v \bullet v))^2)}+\frac{-(((u \bullet v)*(v \bullet  \nabla  \otimes  \nabla  \otimes v)))}{(|v|*|u|*(v \bullet v))}+\frac{-(((u \bullet v)*(( \nabla  \otimes v)^T \bullet  \nabla  \otimes v)))}{(|v|*|u|*(v \bullet v))}+\frac{-((((v \bullet  \nabla  \otimes v) \otimes (v \bullet  \nabla  \otimes u))))}{(|v|*|u|*(v \bullet v))}+\frac{-((((u \bullet  \nabla  \otimes u) \otimes (u \bullet  \nabla  \otimes v))))}{(|u|*|v|*(u \bullet u))}+\frac{(( \nabla  \otimes u)^T \bullet  \nabla  \otimes v)}{(|u|*|v|)}+\frac{-((((v \bullet  \nabla  \otimes v) \otimes (u \bullet  \nabla  \otimes v))))}{(|v|*|u|*(v \bullet v))}+\frac{(u \bullet  \nabla  \otimes  \nabla  \otimes v)}{(|u|*|v|)}+\frac{-((((u \bullet  \nabla  \otimes v) \otimes (u \bullet  \nabla  \otimes u))))}{(|v|*|u|*(u \bullet u))}+\frac{(( \nabla  \otimes v)^T \bullet  \nabla  \otimes u)}{(|u|*|v|)}+\frac{-((((u \bullet  \nabla  \otimes v) \otimes (v \bullet  \nabla  \otimes v))))}{(|u|*|v|*(v \bullet v))})$\\
\\
Diderot-Dev --exec --readEinLatex  --readEin4 PVO.diderot\\
\newline $\rightarrow_{pull-division}((((( \nabla  \otimes v)^T \bullet  \nabla  \otimes u)+(v \bullet  \nabla  \otimes  \nabla  \otimes u)+(( \nabla  \otimes u)^T \bullet  \nabla  \otimes v)+(u \bullet  \nabla  \otimes  \nabla  \otimes v))*\frac{1}{(|u|*|v|)}+(((u \bullet v)*((v \bullet  \nabla  \otimes v) \otimes (v \bullet  \nabla  \otimes v)))+(2*(u \bullet v)*((v \bullet  \nabla  \otimes v) \otimes (v \bullet  \nabla  \otimes v))))*\frac{1}{(|u|*|v|*((v \bullet v))^2)}+((u \bullet v)*((v \bullet  \nabla  \otimes v) \otimes (u \bullet  \nabla  \otimes u)))*\frac{1}{((u \bullet u)*|v|*|u|*(v \bullet v))}+((u \bullet v)*((u \bullet  \nabla  \otimes u) \otimes (v \bullet  \nabla  \otimes v)))*\frac{1}{(|u|*|v|*(u \bullet u)*(v \bullet v))}+((u \bullet v)*((u \bullet  \nabla  \otimes u) \otimes (u \bullet  \nabla  \otimes u)))*\frac{1}{(|u|*|v|*((u \bullet u))^2)}+(2*|u|*(u \bullet v)*((u \bullet  \nabla  \otimes u) \otimes (u \bullet  \nabla  \otimes u)))*\frac{1}{(|v|*(u \bullet u)*((u \bullet u))^2)})-(((((v \bullet  \nabla  \otimes u) \otimes (v \bullet  \nabla  \otimes v)))+(((u \bullet  \nabla  \otimes v) \otimes (v \bullet  \nabla  \otimes v))))*\frac{1}{(|u|*|v|*(v \bullet v))}+(((u \bullet  \nabla  \otimes v) \otimes (u \bullet  \nabla  \otimes u)))*\frac{1}{(|v|*|u|*(u \bullet u))}+((((v \bullet  \nabla  \otimes v) \otimes (u \bullet  \nabla  \otimes v)))+((u \bullet v)*(v \bullet  \nabla  \otimes  \nabla  \otimes v))+((u \bullet v)*(( \nabla  \otimes v)^T \bullet  \nabla  \otimes v))+(((v \bullet  \nabla  \otimes v) \otimes (v \bullet  \nabla  \otimes u))))*\frac{1}{(|v|*|u|*(v \bullet v))}+((((v \bullet  \nabla  \otimes u) \otimes (u \bullet  \nabla  \otimes u)))+(((u \bullet  \nabla  \otimes u) \otimes (v \bullet  \nabla  \otimes u)))+(((u \bullet  \nabla  \otimes u) \otimes (u \bullet  \nabla  \otimes v))))*\frac{1}{(|u|*|v|*(u \bullet u))}+((|u|*(u \bullet v)*(u \bullet  \nabla  \otimes  \nabla  \otimes u))+(|u|*(u \bullet v)*(( \nabla  \otimes u)^T \bullet  \nabla  \otimes u)))*\frac{1}{(|v|*(u \bullet u)*(u \bullet u))}))$

\subsection{Multiple rewrites}
Diderot-Dev --exec --readEinLatex --readEinRewrite  PVO.diderot\\
    Each computation goes through four steps of rewriting  $\rightarrow$. Here we list the output for all four steps. The most readable version  varies with computation.\\
\textbf{Probe}
\newline $\rightarrow_{flat}\frac{(v \bullet u)}{(|v|*|u|)}$
\\\newline $\rightarrow_{match}\frac{(v \bullet u)}{(|v|*|u|)}$
\\\newline $\rightarrow_{refactor}\frac{(v \bullet u)}{(|v|*|u|)}$
\\\newline $\rightarrow_{pull-division}(v \bullet u)*\frac{1}{(|v|*|u|)}$\\
\\
\textbf{Gradient}
\newline $\rightarrow_{flat}(\frac{-(((u \bullet v)*(u \bullet  \nabla  \otimes u)))}{(|u|*|v|*(u \bullet u))}+\frac{(v \bullet  \nabla  \otimes u)}{(|u|*|v|)}+\frac{-(((u \bullet v)*(v \bullet  \nabla  \otimes v)))}{(|v|*|u|*(v \bullet v))}+\frac{(u \bullet  \nabla  \otimes v)}{(|v|*|u|)})$
\\\newline $\rightarrow_{match}(\frac{-(((u \bullet v)*(u \bullet  \nabla  \otimes u)))}{(|u|*|v|*(u \bullet u))}+\frac{(v \bullet  \nabla  \otimes u)}{(|u|*|v|)}+\frac{-(((u \bullet v)*(v \bullet  \nabla  \otimes v)))}{(|v|*|u|*(v \bullet v))}+\frac{(u \bullet  \nabla  \otimes v)}{(|v|*|u|)})$
\\\newline $\rightarrow_{refactor}((\frac{(u \bullet  \nabla  \otimes v)}{(|v|*|u|)}+\frac{(v \bullet  \nabla  \otimes u)}{(|u|*|v|)})-(\frac{((u \bullet v)*(v \bullet  \nabla  \otimes v))}{(|v|*|u|*(v \bullet v))}+\frac{((u \bullet v)*(u \bullet  \nabla  \otimes u))}{(|u|*|v|*(u \bullet u))}))$
\\\newline $\rightarrow_{pull-division}(((u \bullet  \nabla  \otimes v)*\frac{1}{(|v|*|u|)}+(v \bullet  \nabla  \otimes u)*\frac{1}{(|u|*|v|)})-(((u \bullet v)*(v \bullet  \nabla  \otimes v))*\frac{1}{(|v|*|u|*(v \bullet v))}+((u \bullet v)*(u \bullet  \nabla  \otimes u))*\frac{1}{(|u|*|v|*(u \bullet u))}))$\\
\\
\textbf{Hessian}
\newline $\rightarrow_{flat}(\frac{(2*|u|*(u \bullet v)*((u \bullet  \nabla  \otimes u) \otimes (u \bullet  \nabla  \otimes u)))}{((|u|)^2*|v|*(u \bullet u)*(u \bullet u))}+\frac{((u \bullet u)*(u \bullet v)*((u \bullet  \nabla  \otimes u) \otimes (u \bullet  \nabla  \otimes u)))}{((|u|)^2*|u|*|v|*((u \bullet u))^2)}+\frac{-((|u|*(u \bullet u)*(u \bullet v)*(u \bullet  \nabla  \otimes  \nabla  \otimes u)))}{((|u|)^2*|v|*(u \bullet u)*(u \bullet u))}+\frac{-((|u|*(u \bullet u)*(u \bullet v)*(( \nabla  \otimes u)^T \bullet  \nabla  \otimes u)))}{((|u|)^2*|v|*(u \bullet u)*(u \bullet u))}+\frac{-((((u \bullet  \nabla  \otimes u) \otimes (v \bullet  \nabla  \otimes u))))}{(|u|*|v|*(u \bullet u))}+\frac{(v \bullet  \nabla  \otimes  \nabla  \otimes u)}{(|u|*|v|)}+\frac{-((((v \bullet  \nabla  \otimes u) \otimes (u \bullet  \nabla  \otimes u))))}{(|u|*|v|*(u \bullet u))}+\frac{((u \bullet v)*((u \bullet  \nabla  \otimes u) \otimes (v \bullet  \nabla  \otimes v)))}{(|u|*|v|*(u \bullet u)*(v \bullet v))}+\frac{-((((v \bullet  \nabla  \otimes u) \otimes (v \bullet  \nabla  \otimes v))))}{(|u|*|v|*(v \bullet v))}+\frac{(2*|u|*|v|*(u \bullet v)*((v \bullet  \nabla  \otimes v) \otimes (v \bullet  \nabla  \otimes v)))}{(|v|*|u|*|v|*|u|*((v \bullet v))^2)}+\frac{(|v|*(v \bullet v)*(u \bullet v)*((v \bullet  \nabla  \otimes v) \otimes (u \bullet  \nabla  \otimes u)))}{(|u|*|v|*|u|*|v|*|u|*(v \bullet v)*(v \bullet v))}+\frac{(|u|*(v \bullet v)*(u \bullet v)*((v \bullet  \nabla  \otimes v) \otimes (v \bullet  \nabla  \otimes v)))}{((|v|)^2*|u|*|v|*|u|*(v \bullet v)*(v \bullet v))}+\frac{-((|v|*|u|*(v \bullet v)*(u \bullet v)*(v \bullet  \nabla  \otimes  \nabla  \otimes v)))}{(|v|*|u|*|v|*|u|*((v \bullet v))^2)}+\frac{-((|v|*|u|*(v \bullet v)*(u \bullet v)*(( \nabla  \otimes v)^T \bullet  \nabla  \otimes v)))}{(|v|*|u|*|v|*|u|*((v \bullet v))^2)}+\frac{-((((v \bullet  \nabla  \otimes v) \otimes (v \bullet  \nabla  \otimes u))))}{(|v|*|u|*(v \bullet v))}+\frac{-((((u \bullet  \nabla  \otimes u) \otimes (u \bullet  \nabla  \otimes v))))}{(|u|*|v|*(u \bullet u))}+\frac{(( \nabla  \otimes u)^T \bullet  \nabla  \otimes v)}{(|u|*|v|)}+\frac{-((((v \bullet  \nabla  \otimes v) \otimes (u \bullet  \nabla  \otimes v))))}{(|v|*|u|*(v \bullet v))}+\frac{(u \bullet  \nabla  \otimes  \nabla  \otimes v)}{(|u|*|v|)}+\frac{-((((u \bullet  \nabla  \otimes v) \otimes (u \bullet  \nabla  \otimes u))))}{(|v|*|u|*(u \bullet u))}+\frac{(( \nabla  \otimes v)^T \bullet  \nabla  \otimes u)}{(|u|*|v|)}+\frac{-((((u \bullet  \nabla  \otimes v) \otimes (v \bullet  \nabla  \otimes v))))}{(|u|*|v|*(v \bullet v))})$
\\\newline $\rightarrow_{match}(\frac{(2*|u|*(u \bullet v)*((u \bullet  \nabla  \otimes u) \otimes (u \bullet  \nabla  \otimes u)))}{(|v|*(u \bullet u)*((u \bullet u))^2)}+\frac{((u \bullet v)*((u \bullet  \nabla  \otimes u) \otimes (u \bullet  \nabla  \otimes u)))}{(|u|*|v|*((u \bullet u))^2)}+\frac{-((|u|*(u \bullet v)*(u \bullet  \nabla  \otimes  \nabla  \otimes u)))}{(|v|*(u \bullet u)*(u \bullet u))}+\frac{-((|u|*(u \bullet v)*(( \nabla  \otimes u)^T \bullet  \nabla  \otimes u)))}{(|v|*(u \bullet u)*(u \bullet u))}+\frac{-((((u \bullet  \nabla  \otimes u) \otimes (v \bullet  \nabla  \otimes u))))}{(|u|*|v|*(u \bullet u))}+\frac{(v \bullet  \nabla  \otimes  \nabla  \otimes u)}{(|u|*|v|)}+\frac{-((((v \bullet  \nabla  \otimes u) \otimes (u \bullet  \nabla  \otimes u))))}{(|u|*|v|*(u \bullet u))}+\frac{((u \bullet v)*((u \bullet  \nabla  \otimes u) \otimes (v \bullet  \nabla  \otimes v)))}{(|u|*|v|*(u \bullet u)*(v \bullet v))}+\frac{-((((v \bullet  \nabla  \otimes u) \otimes (v \bullet  \nabla  \otimes v))))}{(|u|*|v|*(v \bullet v))}+\frac{(2*(u \bullet v)*((v \bullet  \nabla  \otimes v) \otimes (v \bullet  \nabla  \otimes v)))}{(|u|*|v|*((v \bullet v))^2)}+\frac{((u \bullet v)*((v \bullet  \nabla  \otimes v) \otimes (u \bullet  \nabla  \otimes u)))}{((u \bullet u)*|v|*|u|*(v \bullet v))}+\frac{((u \bullet v)*((v \bullet  \nabla  \otimes v) \otimes (v \bullet  \nabla  \otimes v)))}{(|u|*|v|*((v \bullet v))^2)}+\frac{-(((u \bullet v)*(v \bullet  \nabla  \otimes  \nabla  \otimes v)))}{(|v|*|u|*(v \bullet v))}+\frac{-(((u \bullet v)*(( \nabla  \otimes v)^T \bullet  \nabla  \otimes v)))}{(|v|*|u|*(v \bullet v))}+\frac{-((((v \bullet  \nabla  \otimes v) \otimes (v \bullet  \nabla  \otimes u))))}{(|v|*|u|*(v \bullet v))}+\frac{-((((u \bullet  \nabla  \otimes u) \otimes (u \bullet  \nabla  \otimes v))))}{(|u|*|v|*(u \bullet u))}+\frac{(( \nabla  \otimes u)^T \bullet  \nabla  \otimes v)}{(|u|*|v|)}+\frac{-((((v \bullet  \nabla  \otimes v) \otimes (u \bullet  \nabla  \otimes v))))}{(|v|*|u|*(v \bullet v))}+\frac{(u \bullet  \nabla  \otimes  \nabla  \otimes v)}{(|u|*|v|)}+\frac{-((((u \bullet  \nabla  \otimes v) \otimes (u \bullet  \nabla  \otimes u))))}{(|v|*|u|*(u \bullet u))}+\frac{(( \nabla  \otimes v)^T \bullet  \nabla  \otimes u)}{(|u|*|v|)}+\frac{-((((u \bullet  \nabla  \otimes v) \otimes (v \bullet  \nabla  \otimes v))))}{(|u|*|v|*(v \bullet v))})$
\\\newline $\rightarrow_{refactor}((\frac{((( \nabla  \otimes v)^T \bullet  \nabla  \otimes u)+(v \bullet  \nabla  \otimes  \nabla  \otimes u)+(( \nabla  \otimes u)^T \bullet  \nabla  \otimes v)+(u \bullet  \nabla  \otimes  \nabla  \otimes v))}{(|u|*|v|)}+\frac{(((u \bullet v)*((v \bullet  \nabla  \otimes v) \otimes (v \bullet  \nabla  \otimes v)))+(2*(u \bullet v)*((v \bullet  \nabla  \otimes v) \otimes (v \bullet  \nabla  \otimes v))))}{(|u|*|v|*((v \bullet v))^2)}+\frac{((u \bullet v)*((v \bullet  \nabla  \otimes v) \otimes (u \bullet  \nabla  \otimes u)))}{((u \bullet u)*|v|*|u|*(v \bullet v))}+\frac{((u \bullet v)*((u \bullet  \nabla  \otimes u) \otimes (v \bullet  \nabla  \otimes v)))}{(|u|*|v|*(u \bullet u)*(v \bullet v))}+\frac{((u \bullet v)*((u \bullet  \nabla  \otimes u) \otimes (u \bullet  \nabla  \otimes u)))}{(|u|*|v|*((u \bullet u))^2)}+\frac{(2*|u|*(u \bullet v)*((u \bullet  \nabla  \otimes u) \otimes (u \bullet  \nabla  \otimes u)))}{(|v|*(u \bullet u)*((u \bullet u))^2)})-(\frac{((((v \bullet  \nabla  \otimes u) \otimes (v \bullet  \nabla  \otimes v)))+(((u \bullet  \nabla  \otimes v) \otimes (v \bullet  \nabla  \otimes v))))}{(|u|*|v|*(v \bullet v))}+\frac{(((u \bullet  \nabla  \otimes v) \otimes (u \bullet  \nabla  \otimes u)))}{(|v|*|u|*(u \bullet u))}+\frac{((((v \bullet  \nabla  \otimes v) \otimes (u \bullet  \nabla  \otimes v)))+((u \bullet v)*(v \bullet  \nabla  \otimes  \nabla  \otimes v))+((u \bullet v)*(( \nabla  \otimes v)^T \bullet  \nabla  \otimes v))+(((v \bullet  \nabla  \otimes v) \otimes (v \bullet  \nabla  \otimes u))))}{(|v|*|u|*(v \bullet v))}+\frac{((((v \bullet  \nabla  \otimes u) \otimes (u \bullet  \nabla  \otimes u)))+(((u \bullet  \nabla  \otimes u) \otimes (v \bullet  \nabla  \otimes u)))+(((u \bullet  \nabla  \otimes u) \otimes (u \bullet  \nabla  \otimes v))))}{(|u|*|v|*(u \bullet u))}+\frac{((|u|*(u \bullet v)*(u \bullet  \nabla  \otimes  \nabla  \otimes u))+(|u|*(u \bullet v)*(( \nabla  \otimes u)^T \bullet  \nabla  \otimes u)))}{(|v|*(u \bullet u)*(u \bullet u))}))$
\\\newline $\rightarrow_{pull-division}((((( \nabla  \otimes v)^T \bullet  \nabla  \otimes u)+(v \bullet  \nabla  \otimes  \nabla  \otimes u)+(( \nabla  \otimes u)^T \bullet  \nabla  \otimes v)+(u \bullet  \nabla  \otimes  \nabla  \otimes v))*\frac{1}{(|u|*|v|)}+(((u \bullet v)*((v \bullet  \nabla  \otimes v) \otimes (v \bullet  \nabla  \otimes v)))+(2*(u \bullet v)*((v \bullet  \nabla  \otimes v) \otimes (v \bullet  \nabla  \otimes v))))*\frac{1}{(|u|*|v|*((v \bullet v))^2)}+((u \bullet v)*((v \bullet  \nabla  \otimes v) \otimes (u \bullet  \nabla  \otimes u)))*\frac{1}{((u \bullet u)*|v|*|u|*(v \bullet v))}+((u \bullet v)*((u \bullet  \nabla  \otimes u) \otimes (v \bullet  \nabla  \otimes v)))*\frac{1}{(|u|*|v|*(u \bullet u)*(v \bullet v))}+((u \bullet v)*((u \bullet  \nabla  \otimes u) \otimes (u \bullet  \nabla  \otimes u)))*\frac{1}{(|u|*|v|*((u \bullet u))^2)}+(2*|u|*(u \bullet v)*((u \bullet  \nabla  \otimes u) \otimes (u \bullet  \nabla  \otimes u)))*\frac{1}{(|v|*(u \bullet u)*((u \bullet u))^2)})-(((((v \bullet  \nabla  \otimes u) \otimes (v \bullet  \nabla  \otimes v)))+(((u \bullet  \nabla  \otimes v) \otimes (v \bullet  \nabla  \otimes v))))*\frac{1}{(|u|*|v|*(v \bullet v))}+(((u \bullet  \nabla  \otimes v) \otimes (u \bullet  \nabla  \otimes u)))*\frac{1}{(|v|*|u|*(u \bullet u))}+((((v \bullet  \nabla  \otimes v) \otimes (u \bullet  \nabla  \otimes v)))+((u \bullet v)*(v \bullet  \nabla  \otimes  \nabla  \otimes v))+((u \bullet v)*(( \nabla  \otimes v)^T \bullet  \nabla  \otimes v))+(((v \bullet  \nabla  \otimes v) \otimes (v \bullet  \nabla  \otimes u))))*\frac{1}{(|v|*|u|*(v \bullet v))}+((((v \bullet  \nabla  \otimes u) \otimes (u \bullet  \nabla  \otimes u)))+(((u \bullet  \nabla  \otimes u) \otimes (v \bullet  \nabla  \otimes u)))+(((u \bullet  \nabla  \otimes u) \otimes (u \bullet  \nabla  \otimes v))))*\frac{1}{(|u|*|v|*(u \bullet u))}+((|u|*(u \bullet v)*(u \bullet  \nabla  \otimes  \nabla  \otimes u))+(|u|*(u \bullet v)*(( \nabla  \otimes u)^T \bullet  \nabla  \otimes u)))*\frac{1}{(|v|*(u \bullet u)*(u \bullet u))}))$
 \end{document}