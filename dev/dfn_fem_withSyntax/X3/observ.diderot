

input fem#4(3)[3] FF0;
//Field:field #4(3)[3] F0=[x**2*y + 3*x*y - 5*x + y**2*(-4*x**2 - 3*x + 1) - 4*y + z**2*(5*x**2*y + 5*x**2 - 3*x*y + 4*x + y**2*(2*x**2 - 3) - 2*y) + z*(3*x**2*y + x**2 - 4*x*y + 2*x + y**2*(2*x - 1) - y + 4) + 1, -4*x**2*y - 5*x**2 + 3*x*y + 2*x + y**2*(x**2 + 5*x + 5) + y + z**2*(-2*x**2*y + 3*x**2 - 5*x*y - 4*x + y**2*(5*x + 1) - 3*y + 3) + z*(-5*x**2*y + x**2 + x*y + x + y**2*(-x + 3) + 2*y + 2) + 1, 2*x**2*y + 2*x**2 + 3*x*y + y**2*(-4*x**2 - 5*x - 3) - 4*y + z**2*(x**2*y + 4*x**2 - 3*x*y - x + y**2*(-4*x**2 + 3*x + 5) + 4*y - 2) + z*(-x**2*y - 3*x**2 - 2*x*y + 2*x + y**2*(-3*x**2 - x - 1) - 4*y + 5) + 3]
fnspace VF0 = TensorFunctionSpace(UnitCubeMesh(4,4,4), P(), 4,{3});
string pathF0 = "/Users/chariseechiw/diderot/Diderot-Dev/fnspace_data/";
field#4(3)[3] F0 = FEM(FF0,VF0,pathF0);

input fem#4(3)[3, 3] FF1;
//Field:field #4(3)[3, 3] F1=[[-2*x**2*y - x**2 - 3*x*y + 5*x + y**2*(-2*x**2 - x + 5) - 3*y + z**2*(-4*x**2*y - x**2 + 5*x*y + 5*x + y**2*(3*x**2 + 4*x - 2) - 4*y - 1) + z*(4*x**2*y + 4*x*y - x + y**2*(-3*x**2 - 3*x + 1) - 2*y + 3) + 1, -4*x**2*y + 5*x**2 + 3*x*y + 4*x + y**2*(-3*x**2 + 5*x + 3) + 5*y + z**2*(2*x**2 + 2*x*y + 3*x + y**2*(-5*x**2 + 2*x + 4) - 5*y - 4) + z*(3*x**2*y - 3*x**2 + 3*x*y + x + y**2*(4*x**2 - 2*x - 5) - 4*y), -3*x**2*y + 3*x**2 + x*y - x + y**2*(3*x**2 - 4*x + 5) + 4*y + z**2*(-4*x**2*y + 3*x**2 + 2*x*y + 2*x + y**2*(-3*x**2 + 2*x + 3) - 3*y - 5) + z*(-4*x**2*y + x**2 - 5*x*y - 2*x + y**2*(x**2 + 3*x - 4) - 3*y - 1) + 2], [-5*x**2*y - x*y + 3*x + y**2*(3*x**2 + 3*x) + z**2*(-5*x**2*y + 2*x**2 + x + y**2*(x**2 + x + 4) + y + 5) + z*(x**2*y + 5*x*y - 2*x + y**2*(-2*x**2 + 5*x - 4) + 4) - 2, -4*x**2 - 3*x*y - 5*x + y**2*(4*x**2 + 4*x - 2) - 3*y + z**2*(3*x**2*y - 5*x**2 - x*y + x + y**2*(x**2 + 5*x + 5) + 2*y - 4) + z*(-5*x**2*y + 2*x**2 - 4*x*y + 2*x + y**2*(-3*x**2 - 3*x + 5) + 5*y + 4) + 4, -5*x**2*y - 5*x**2 + 4*x*y - 3*x + y**2*(-4*x**2 - 2*x + 2) + y + z**2*(2*x**2*y + x**2 - 5*x*y - 3*x + y**2*(-4*x + 4) - 3*y - 4) + z*(x**2*y + 5*x**2 - 3*x*y + x + y**2*(-2*x**2 + 4) - 5*y - 4) - 5], [-2*x**2*y + 5*x**2 + x*y - 4*x + y**2*(2*x**2 + 5*x + 4) + 4*y + z**2*(-x**2*y + 4*x*y + y**2*(5*x**2 + 2*x + 3) - 2*y - 2) + z*(-x**2*y - 3*x**2 + 4*x*y - 3*x + y**2*(-x**2 + 4*x - 1) - 3*y + 2) - 3, 3*x**2*y - 5*x**2 - 5*x*y + x + y**2*(3*x**2 + 4*x) - 3*y + z**2*(3*x**2*y - 4*x*y - 2*x + y**2*(-2*x**2 + 4*x) - 2*y + 2) + z*(-5*x**2*y - 5*x**2 + 3*x*y + 4*x + y**2*(-4*x**2 + 3*x + 1) + 3*y + 3) + 1, -3*x**2*y + x**2 + x*y - 5*x + y**2*(-4*x**2 - 2*x + 2) + y + z**2*(3*x**2*y - 3*x**2 - x*y - x + y**2*(-4*x**2 + x - 3) - 3*y - 5) + z*(-2*x**2*y + 3*x**2 - 2*x*y - 2*x + y**2*(-x**2 + 2*x + 4) + 4*y + 1)]]
fnspace VF1 = TensorFunctionSpace(UnitCubeMesh(4,4,4), P(), 4,{3,3});
string pathF1 = "/Users/chariseechiw/diderot/Diderot-Dev/fnspace_data/";
field#4(3)[3, 3] F1 = FEM(FF1,VF1,pathF1);

field#4(3)[3]G = (F0)â€¢(F1);
int length =7;
strand f(int i) {

	output tensor [3] out =  [0.0,0.0,0.0];
	    update {

		tensor [3] pos=[0,0,0];
		if(i==0){
			pos = ([0.56, 0.9, 0.74]);
		}
		else if(i==1){
			pos = ([0.56, 0.9, 0.74]);
		}
		else if(i==2){
			pos = ([0.68, 0.4, 0.43]);
		}
		else if(i==3){
			pos = ([0.88, 0.58, 0.16]);
		}
		else if(i==4){
			pos = ([0.06, 0.96, 0.89]);
		}
		else if(i==5){
			pos = ([0.15, 0.76, 0.6]);
		}
		else if(i==6){
			pos = ([0.96, 0.79, 0.63]);
		}
		else if(i==7){
			pos = ([0.22, 0.75, 0.3]);
		}

	if((insideF(pos,F0)) && (insideF(pos,F1))){
            out = G(pos);
	}
	 else{out =  [7.2,7.2,7.2];}
        stabilize;
    }
}
initially [ f(i) | i in 0..length];